<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Custom Rules | VeeValidate</title>
    <meta name="description" content="Input validation for Vue.js">
    <meta charset="utf-8">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/img/ms-icon-144x144.png">
  <meta name="theme-color" content="#41b883">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta property="og:image" content="https://s3.eu-central-1.amazonaws.com/logaretm/vee-validate.svg">
  <link rel="apple-touch-icon" sizes="57x57" href="/vee-validate/img/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/vee-validate/img/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/vee-validate/img/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/vee-validate/img/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/vee-validate/img/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/vee-validate/img/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/vee-validate/img/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/vee-validate/img/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/vee-validate/img/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/vee-validate/img/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/vee-validate/img/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/vee-validate/img/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/vee-validate/img/favicon-16x16.png">
    
    <link rel="preload" href="/vee-validate/assets/css/0.styles.376609dd.css" as="style"><link rel="preload" href="/vee-validate/assets/js/app.dda66d60.js" as="script"><link rel="preload" href="/vee-validate/assets/js/35.b24370fc.js" as="script"><link rel="prefetch" href="/vee-validate/assets/js/2.a76b98b6.js"><link rel="prefetch" href="/vee-validate/assets/js/3.4d707832.js"><link rel="prefetch" href="/vee-validate/assets/js/4.f65411ff.js"><link rel="prefetch" href="/vee-validate/assets/js/5.ad171cd4.js"><link rel="prefetch" href="/vee-validate/assets/js/6.ddcfd62d.js"><link rel="prefetch" href="/vee-validate/assets/js/7.db094ca2.js"><link rel="prefetch" href="/vee-validate/assets/js/8.bb879e08.js"><link rel="prefetch" href="/vee-validate/assets/js/9.4cfa7b65.js"><link rel="prefetch" href="/vee-validate/assets/js/10.36351718.js"><link rel="prefetch" href="/vee-validate/assets/js/11.541b9e69.js"><link rel="prefetch" href="/vee-validate/assets/js/12.47ae7fd4.js"><link rel="prefetch" href="/vee-validate/assets/js/13.7d36d2b0.js"><link rel="prefetch" href="/vee-validate/assets/js/14.71f62e9c.js"><link rel="prefetch" href="/vee-validate/assets/js/15.23defcf4.js"><link rel="prefetch" href="/vee-validate/assets/js/16.f2365969.js"><link rel="prefetch" href="/vee-validate/assets/js/17.acc308c6.js"><link rel="prefetch" href="/vee-validate/assets/js/18.e837d1c0.js"><link rel="prefetch" href="/vee-validate/assets/js/19.307fdd94.js"><link rel="prefetch" href="/vee-validate/assets/js/20.cd2cebf3.js"><link rel="prefetch" href="/vee-validate/assets/js/21.20afefcd.js"><link rel="prefetch" href="/vee-validate/assets/js/22.63a3fedd.js"><link rel="prefetch" href="/vee-validate/assets/js/23.867cfdb7.js"><link rel="prefetch" href="/vee-validate/assets/js/24.d704ff01.js"><link rel="prefetch" href="/vee-validate/assets/js/25.56fd3f08.js"><link rel="prefetch" href="/vee-validate/assets/js/26.1d3d73aa.js"><link rel="prefetch" href="/vee-validate/assets/js/27.871ec7b8.js"><link rel="prefetch" href="/vee-validate/assets/js/28.34ea94ea.js"><link rel="prefetch" href="/vee-validate/assets/js/29.b57bd070.js"><link rel="prefetch" href="/vee-validate/assets/js/30.1445979a.js"><link rel="prefetch" href="/vee-validate/assets/js/31.9015fa2b.js"><link rel="prefetch" href="/vee-validate/assets/js/32.5fe8f297.js"><link rel="prefetch" href="/vee-validate/assets/js/33.cee3f7dd.js"><link rel="prefetch" href="/vee-validate/assets/js/34.7a4bf9df.js"><link rel="prefetch" href="/vee-validate/assets/js/36.c53d4d24.js"><link rel="prefetch" href="/vee-validate/assets/js/37.e0b15abc.js"><link rel="prefetch" href="/vee-validate/assets/js/38.92bc2053.js"><link rel="prefetch" href="/vee-validate/assets/js/39.97b15415.js"><link rel="prefetch" href="/vee-validate/assets/js/40.74680fb8.js"><link rel="prefetch" href="/vee-validate/assets/js/41.9fb3c896.js"><link rel="prefetch" href="/vee-validate/assets/js/42.1031c47d.js"><link rel="prefetch" href="/vee-validate/assets/js/43.70b5e9c5.js"><link rel="prefetch" href="/vee-validate/assets/js/44.55aa1d7b.js"><link rel="prefetch" href="/vee-validate/assets/js/45.b5c7afd0.js"><link rel="prefetch" href="/vee-validate/assets/js/46.6d625259.js"><link rel="prefetch" href="/vee-validate/assets/js/47.ad4999dc.js">
    <link rel="stylesheet" href="/vee-validate/assets/css/0.styles.376609dd.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/vee-validate/" class="home-link router-link-active"><!----> <span class="site-name">VeeValidate</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/vee-validate/guide/" class="nav-link router-link-active">Guide</a></div><div class="nav-item"><a href="/vee-validate/configuration.html" class="nav-link">Config</a></div><div class="nav-item"><a href="/vee-validate/concepts/" class="nav-link">Concepts</a></div><div class="nav-item"><a href="/vee-validate/examples/" class="nav-link">Examples</a></div><div class="nav-item"><a href="/vee-validate/api/" class="nav-link">API</a></div> <a href="https://github.com/baianat/vee-validate" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/vee-validate/guide/" class="nav-link router-link-active">Guide</a></div><div class="nav-item"><a href="/vee-validate/configuration.html" class="nav-link">Config</a></div><div class="nav-item"><a href="/vee-validate/concepts/" class="nav-link">Concepts</a></div><div class="nav-item"><a href="/vee-validate/examples/" class="nav-link">Examples</a></div><div class="nav-item"><a href="/vee-validate/api/" class="nav-link">API</a></div> <a href="https://github.com/baianat/vee-validate" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><div class="sidebar-group first"><p class="sidebar-heading open"><span>Guide</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/vee-validate/guide/" class="sidebar-link">Introduction</a></li><li><a href="/vee-validate/guide/getting-started.html" class="sidebar-link">Getting Started</a></li><li><a href="/vee-validate/guide/syntax.html" class="sidebar-link">Syntax</a></li><li><a href="/vee-validate/guide/displaying-errors.html" class="sidebar-link">Displaying Errors</a></li><li><a href="/vee-validate/guide/rules.html" class="sidebar-link">Validation Rules</a></li><li><a href="/vee-validate/guide/custom-rules.html" class="active sidebar-link">Custom Rules</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vee-validate/guide/custom-rules.html#creating-a-custom-rule" class="sidebar-link">Creating A Custom Rule</a></li><li class="sidebar-sub-header"><a href="/vee-validate/guide/custom-rules.html#using-the-custom-rule" class="sidebar-link">Using The Custom Rule</a></li><li class="sidebar-sub-header"><a href="/vee-validate/guide/custom-rules.html#args-and-rule-configuration" class="sidebar-link">Args and Rule Configuration</a></li><li class="sidebar-sub-header"><a href="/vee-validate/guide/custom-rules.html#cross-field-rules" class="sidebar-link">Cross-Field Rules</a></li><li class="sidebar-sub-header"><a href="/vee-validate/guide/custom-rules.html#require-like-rules" class="sidebar-link">Require-like rules</a></li><li class="sidebar-sub-header"><a href="/vee-validate/guide/custom-rules.html#non-immediate-rules" class="sidebar-link">Non-immediate Rules</a></li><li class="sidebar-sub-header"><a href="/vee-validate/guide/custom-rules.html#reasoning" class="sidebar-link">Reasoning</a></li></ul></li><li><a href="/vee-validate/guide/inferred-rules.html" class="sidebar-link">Inferred Rules</a></li><li><a href="/vee-validate/guide/messages.html" class="sidebar-link">Error Messages</a></li><li><a href="/vee-validate/guide/localization.html" class="sidebar-link">Localization</a></li><li><a href="/vee-validate/guide/flags.html" class="sidebar-link">Flags</a></li><li><a href="/vee-validate/guide/classes-and-styling.html" class="sidebar-link">Styling and CSS Classes</a></li><li><a href="/vee-validate/guide/events.html" class="sidebar-link">Validation Events</a></li><li><a href="/vee-validate/guide/interaction.html" class="sidebar-link">Interaction Modes</a></li><li><a href="/vee-validate/guide/conditional-and-looping-inputs.html" class="sidebar-link">Validating Dynamically Displayed Inputs</a></li><li><a href="/vee-validate/guide/ui-integrations.html" class="sidebar-link">UI Integrations</a></li><li><a href="/vee-validate/guide/testing.html" class="sidebar-link">Testing</a></li></ul></div></li><li><div class="sidebar-group"><p class="sidebar-heading"><span>Components</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/vee-validate/guide/components.html" class="sidebar-link">Validation Components</a></li><li><a href="/vee-validate/guide/components/validation-provider.html" class="sidebar-link">Validation Provider</a></li><li><a href="/vee-validate/guide/components/validation-observer.html" class="sidebar-link">Validation Observer</a></li></ul></div></li></ul> </div> <div class="page"> <div class="content"><h1 id="custom-rules"><a href="#custom-rules" aria-hidden="true" class="header-anchor">#</a> Custom Rules</h1> <p>You can easily add custom rules to VeeValidate, but your custom rules must adhere to a contract or certain structure:</p> <h2 id="creating-a-custom-rule"><a href="#creating-a-custom-rule" aria-hidden="true" class="header-anchor">#</a> Creating A Custom Rule</h2> <h3 id="function-form"><a href="#function-form" aria-hidden="true" class="header-anchor">#</a> Function Form</h3> <p>This is the most basic custom validator form. It consists of only a function that returns either a Boolean or a promise. However, it will have a default error message.</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">validator</span> <span class="token operator">=</span> <span class="token punctuation">(</span>value<span class="token punctuation">,</span> args<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// Return a Boolean or a Promise that resolves to a boolean.</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="object-form"><a href="#object-form" aria-hidden="true" class="header-anchor">#</a> Object Form</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> validator <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function">getMessage</span><span class="token punctuation">(</span>field<span class="token punctuation">,</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// will be added to default locale messages.</span>
    <span class="token comment">// Returns a message.</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">validate</span><span class="token punctuation">(</span>value<span class="token punctuation">,</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// Returns a Boolean or a Promise that resolves to a boolean.</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>This validator object must have a <code>validate</code> method and can contain a <code>getMessage</code> method which will be merged into the current dictionary locale. For multiple languages, you should use the <a href="/vee-validate/guide/localization.html">localization API</a>.</p> <div class="tip custom-block"><p class="custom-block-title">TIP</p> <p>Notice how the <code>getMessage</code> method receives the <code>field</code>, which is the name of the field under validation as a first parameter, and how the <code>validate</code> method receives the value as a first parameter. Both receive the <code>args</code> array which contains the arguments that were configured with the validation rule. Take a look at the <a href="https://github.com/baianat/vee-validate/blob/master/src/rules/min.js" target="_blank" rel="noopener noreferrer">actual implementation of the min rule<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> as an example.</p></div> <div class="warning custom-block"><p class="custom-block-title">WARNING</p> <p>As you can see, a validation rule must implement one of the two forms discussed above. Not doing so will throw an exception with a suitable error message detailing what you were missing.</p></div> <h2 id="using-the-custom-rule"><a href="#using-the-custom-rule" aria-hidden="true" class="header-anchor">#</a> Using The Custom Rule</h2> <p>After creating your custom rule, you can add it to the list of rules using <code>extend(name, validator)</code> method in the validator instance.</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> Validator <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vee-validate'</span><span class="token punctuation">;</span>

Validator<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span><span class="token string">'truthy'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  getMessage<span class="token punctuation">:</span> field <span class="token operator">=&gt;</span> <span class="token string">'The '</span> <span class="token operator">+</span> field <span class="token operator">+</span> <span class="token string">' value is not truthy.'</span><span class="token punctuation">,</span>
  validate<span class="token punctuation">:</span> value <span class="token operator">=&gt;</span> <span class="token operator">!</span><span class="token operator">!</span> value
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> instance <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Validator</span><span class="token punctuation">(</span><span class="token punctuation">{</span> trueField<span class="token punctuation">:</span> <span class="token string">'truthy'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Also there is an instance 'extend' method for convenience.</span>
instance<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span><span class="token string">'falsy'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token operator">!</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span>

instance<span class="token punctuation">.</span><span class="token function">attach</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  name<span class="token punctuation">:</span> <span class="token string">'falseField'</span><span class="token punctuation">,</span>
  rules<span class="token punctuation">:</span> <span class="token string">'falsy'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="tip custom-block"><p class="custom-block-title">TIP</p> <p>Using any of the <code>extend</code> either on the class or on an instance will extend all validators with the new validation rule. Extending a new rule that has the same name as an existing rule will silently overwrite it.</p></div> <p>Then you can use your rule like any other rule:</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>field<span class="token punctuation">&quot;</span></span> <span class="token attr-name">v-validate</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">'</span>falsy<span class="token punctuation">'</span><span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
</code></pre></div><div class="warning custom-block"><p class="custom-block-title">WARNING</p> <p>When the field under validation is <strong>not</strong> required, your rule may not be executed at all. This is because VeeValidate skips validation for empty fields if they are not required. You can override this behavior by <a href="/vee-validate/api/directive.html#continues">using <code>v-validate.continues</code> modifier</a> to force all rules to run.</p></div> <h2 id="args-and-rule-configuration"><a href="#args-and-rule-configuration" aria-hidden="true" class="header-anchor">#</a> Args and Rule Configuration</h2> <p>Your rule may provide different results/behavior depending on some configuration, as mentioned before they are passed as an array of values to the validator function, which may not always be optimal, for example a rule with 3 optional parameters would need to recieve all 3 parameters each time just to specify the third parameter.</p> <p>You can recieve an object instead of an array for your validation rule by providing a <code>paramNames</code> array in the extend options (third parameter). Which names the params in the array you would normally recieve.</p> <p>For an example take a look at a basic <strong>value between</strong> rule implementation:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">isBetween</span> <span class="token operator">=</span> <span class="token punctuation">(</span>value<span class="token punctuation">,</span> <span class="token punctuation">{</span> min<span class="token punctuation">,</span> max <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token function">Number</span><span class="token punctuation">(</span>min<span class="token punctuation">)</span> <span class="token operator">&lt;=</span> value <span class="token operator">&amp;&amp;</span> <span class="token function">Number</span><span class="token punctuation">(</span>max<span class="token punctuation">)</span> <span class="token operator">&gt;=</span> value<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// The first param is called 'min', and the second is called 'max'.</span>
<span class="token keyword">const</span> paramNames <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'min'</span><span class="token punctuation">,</span> <span class="token string">'max'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

Validator<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span><span class="token string">'between'</span><span class="token punctuation">,</span> isBetween<span class="token punctuation">,</span> <span class="token punctuation">{</span>
  paramNames <span class="token comment">//  pass it in the extend options.</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>The paramNames isn't really required, but it allows your rule to work in both string/object formats. since there is no way in the string format to pass the named parameters:</p> <div class="language- extra-class"><pre class="language-text"><code>between:10,20
</code></pre></div><p>The order is what controls the param names in that case. The validator will use the <code>paramNames</code> to convert the array of strings to an object containing the named parameters as keys with the correct param value. Make sure to order the <code>paramNames</code> in the same order that the params will be specified in the string format.</p> <div class="danger custom-block"><p class="custom-block-title">WARNING</p> <p>Locale methods will still recieve the array of args, it will not convert it to an object at the time being due to the possible breaking changes in locale files.</p></div> <h2 id="cross-field-rules"><a href="#cross-field-rules" aria-hidden="true" class="header-anchor">#</a> Cross-Field Rules</h2> <p>Sometimes your rules may need to compare the field value against another field value, some built in rules like <code>confirmed</code>, <code>before</code> and <code>after</code> need a target field to compare against.</p> <p>You can create custom rules that do this as well by setting the <code>hasTarget</code> property on the extend options object which is the third parameter.</p> <div class="language-js extra-class"><div class="highlight-lines"><br><br><div class="highlighted"> </div><br><br><br></div><pre class="language-js"><code>validator<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span><span class="token string">'isBigger'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>value<span class="token punctuation">,</span> <span class="token punctuation">[</span>otherValue<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> value <span class="token operator">&gt;=</span> otherValue<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  hasTarget<span class="token punctuation">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Notice that the other field value will be injected as the first item in the parameter list.</p> <p>These rules require at least one argument and the target field must have a matching <code>ref</code> value.</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">v-validate</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">'</span>confirmed:confirmation<span class="token punctuation">'</span><span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>password<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>password<span class="token punctuation">&quot;</span></span> <span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>passwordConfirmation<span class="token punctuation">&quot;</span></span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>confirmation<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>password<span class="token punctuation">&quot;</span></span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>Confirm the password<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>For <a href="/vee-validate/guide/components/validation-provider.html">validation providers</a> the target field must have a <code>vid</code> prop set instead of the <code>ref</code>.</p> <h2 id="require-like-rules"><a href="#require-like-rules" aria-hidden="true" class="header-anchor">#</a> Require-like rules</h2> <p>If you need to define a rule that declares a field as required under specific conditions, you will need to enable the <code>computesRequired</code> option. Because, by default, VeeValidate doesn't validate non require-like rules if the field has no value. The <code>computesRequired</code> will tell VeeValidate to run your rule even if the field has no value.</p> <p>In consequence, your rule <strong>must</strong> return an object with both <code>valid</code> and <code>data.required</code> boolean properties:</p> <div class="language-js extra-class"><pre class="language-js"><code>validator<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span><span class="token string">'my_custom_rule'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>value<span class="token punctuation">,</span> <span class="token punctuation">[</span>otherValue<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// do something and finally return an object like this one:</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    valid<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// or false</span>
    data<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      required<span class="token punctuation">:</span> <span class="token boolean">true</span> <span class="token comment">// or false</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  computesRequired<span class="token punctuation">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Your rule also has to check for the requirement to be fulfilled.
If <code>data.required</code> is set to false, the other field rules won't be executed if the field is empty.</p> <div class="tip custom-block"><p class="custom-block-title">TIP</p> <p>This option is best used when combined with <code>hasTarget</code>, to make a conditionnal requirement, based on other field values. Like the <code>require_if</code> rule.</p></div> <div class="danger custom-block"><p class="custom-block-title">WARNING</p> <p>You cannot use this option if you want to write an async (promise-based) rule. You rule implementation has to be synchronous.</p></div> <h2 id="non-immediate-rules"><a href="#non-immediate-rules" aria-hidden="true" class="header-anchor">#</a> Non-immediate Rules</h2> <p>VeeValidate triggers initial validation regardless if you used the <a href="/vee-validate/api/directive.html#immediate">immediate modifier</a> or not, the difference being if the immediate modifier is set, the errors and flags will be updated.</p> <p>Sometimes you don't want your rule to be executed, consider a rule that calls to a remote API. Unless the <code>immediate</code> modifier is set, you don't want the rule to be executed. This can be done by adding <code>immediate</code> boolean to your extend options.</p> <div class="language-js extra-class"><pre class="language-js"><code>validator<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span><span class="token string">'remote'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>value<span class="token punctuation">,</span> <span class="token punctuation">[</span>otherValue<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// do something</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  immediate<span class="token punctuation">:</span> <span class="token boolean">false</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>This will skip the rule on the initial validation when the <code>immediate</code> modifier is not set.</p> <h2 id="reasoning"><a href="#reasoning" aria-hidden="true" class="header-anchor">#</a> Reasoning</h2> <p>Additionally, you may want to provide a reason for failing the validation that may change the error message. For example, you may be using an external API and the error message is generated there.</p> <p>To achieve this, your validator function should return an <code>Object</code> instead of a <code>Boolean</code>. This object should always contain a <code>valid</code> property and an optional <code>data</code> property. The data property will be passed to the message generator function as the third parameter, then you should use the passed data property to modify the output message. The same thing applies to promises as you resolve the promise with an object containing these properties. Here is a custom rule that does just that:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> myRule <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function">getMessage</span><span class="token punctuation">(</span>field<span class="token punctuation">,</span> params<span class="token punctuation">,</span> data<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token punctuation">(</span>data <span class="token operator">&amp;&amp;</span> data<span class="token punctuation">.</span>message<span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token string">'Something went wrong'</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">validate</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span>resolve <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        valid<span class="token punctuation">:</span> value <span class="token operator">===</span> <span class="token string">'trigger'</span> <span class="token operator">?</span> <span class="token boolean">false</span> <span class="token punctuation">:</span> <span class="token operator">!</span><span class="token operator">!</span> value<span class="token punctuation">,</span>
        data<span class="token punctuation">:</span> value <span class="token operator">!==</span> <span class="token string">'trigger'</span> <span class="token operator">?</span> undefined <span class="token punctuation">:</span> <span class="token punctuation">{</span> message<span class="token punctuation">:</span> <span class="token string">'Not this value'</span> <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div></div> <div class="page-edit"><div class="edit-link"><a href="https://github.com/baianat/vee-validate/edit/master/docs/guide/custom-rules.md" target="_blank" rel="noopener noreferrer">Help us improve this page!</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <!----></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/vee-validate/guide/rules.html" class="prev">
          Validation Rules
        </a></span> <span class="next"><a href="/vee-validate/guide/inferred-rules.html">
          Inferred Rules
        </a>
        →
      </span></p></div> </div> <!----></div></div>
    <script src="/vee-validate/assets/js/35.b24370fc.js" defer></script><script src="/vee-validate/assets/js/app.dda66d60.js" defer></script>
  </body>
</html>
